---
description: Free online calculator for definite and indefinite multiple integrals (double, triple, or quadruple) using Cartesian, polar, cylindrical, or spherical coordinates.
headjs: <script defer src="/js/algebrite-1.4.0.js"></script><script>window.MathJax={loader:{load:['input/tex',"output/svg"]},startup:{typeset:false},svg:{scale:2}}</script><script id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/startup.js"></script>
title: Multiple Integral Calculator
---

<form id="calc" onsubmit="return false">
  <p>
    I want to calculate a
    <select id="order">
      <option value="1">single</option>
      <option value="2" selected="selected">double</option>
      <option value="3">triple</option>
      <option value="4">quadruple</option>
    </select>
    integral in
    <select id="coordSystem">
      <option data-orders="1234" value="cartesian">Cartesian</option>
      <option data-orders="2" value="polar">polar</option>
      <option data-orders="3" value="cylindrical">cylindrical</option>
      <option data-orders="3" value="spherical">spherical</option>
    </select>
    coordinates:
  </p>
  <table class="borderless">
    <tr class="upper">
      <td class="paren" rowspan="3">(</td>
      <td>&nbsp;</td>
      <td class="paren" rowspan="3">)</td>
      <td>&nbsp;</td>
    </tr>
    <tr class="center">
      <td id="integrand">Function<br /><input type="text" autofocus /></td>
      <td id="differentials">
        Differentials<br /><input
          type="text"
          style="width: 95px"
          value="dz dy dx"
        />
      </td>
    </tr>
    <tr class="lower">
      <td>&nbsp;</td>
      <td>
        <input id="integrate" type="submit" value="Submit" />
      </td>
    </tr>
  </table>
  <p id="result" style="text-align: center"></p>
</form>

<script>
  (() => {
    const $ = selector => document.querySelector(selector);
    const $$ = selector => [...document.querySelectorAll(selector)];

    const render = () => {
      // Customize coordinate system dropdown
      const order = parseInt($("#order").value, 10);
      $$("#coordSystem option").map($el =>
        $el.classList.toggle("hidden", !$el.dataset.orders.includes(order)),
      );
      if ($(`#coordSystem option.hidden:checked`)) {
        $("#coordSystem").value = "cartesian";
      }
      const coordSystem = $("#coordSystem").value;

      // Render integral symbols
      $$("td.int, td.limit").map($el => $el.remove());
      const prepend = ($el, html) =>
        $el.insertAdjacentHTML("afterbegin", html.repeat(order));
      prepend($("#calc .upper"), '<td class="limit"><input type="text"></td>');
      prepend($("#calc .center"), '<td class="int">&int;</td>');
      prepend($("#calc .lower"), '<td class="limit"><input type="text"></td>');

      // Populate differentials
      $("#calc table input[type=text]").value = "";
      $("#differentials input").value = {
        cartesian: "dx dy dz dt".slice(0, 3 * order - 1),
        polar: "dr dt",
        cylindrical: "dz dr dt",
        spherical: "dr dt df",
      }[coordSystem];

      // Populate example
      $("#integrand input").value = {
        cartesian: [
          "7*x + 3",
          "x*pi^y + sqrt(sin(0))",
          "x + 3*y*z",
          "2*x*y + t^3",
        ][order - 1],
        polar: "(r + 2*t)*r",
        cylindrical: "r*sin(t)*r",
        spherical: "16*r*cos(f)*(r^2)*sin(f)",
      }[coordSystem];
    };

    // Handle form submission
    const $result = $("#result");
    const submit = async () => {
      // Show loading message
      $result.innerText = "Thinking...";

      // Validate inputs
      const integrand = $("#integrand input").value.trim();
      if (!integrand) {
        $result.innerText = "You didn't enter a function to integrate!";
        return;
      }
      const differentials = $("#differentials input").value.replace(/ |d/g, "");
      if (!differentials) {
        $result.innerText = "You didn't enter any differentials!";
        return;
      }
      const countBrackets = needle => [...integrand.matchAll(needle)].length;
      if (countBrackets(/\(/g) !== countBrackets(/\)/g)) {
        $result.innerText = "Your parentheses aren't matched!";
        return;
      }
      if (countBrackets(/\[/g) !== countBrackets(/\]/g)) {
        $result.innerText = "Your brackets aren't matched!";
        return;
      }

      // Build query string using integrand and differentials
      let query = integrand;
      for (let i = 0; i < differentials.length; ++i) {
        // Add bounds
        const variable = differentials[i];
        const n = differentials.length - i;
        const upper = $(`#calc .upper td:nth-child(${n}) input`).value.trim();
        const lower = $(`#calc .lower td:nth-child(${n}) input`).value.trim();
        if (!upper.length !== !lower.length) {
          $result.innerText =
            "Limits of integration for each integral must be either both empty or both filled!";
          return;
        }
        query =
          upper && lower
            ? `defint(${query},${variable},${lower},${upper})`
            : `integral(${query},${variable})`;
      }

      // Insert explicit `*` between common variable names to reduce ambiguity
      query = query
        .replace(/ln\b/g, "log")
        .replace(
          /\b([0-9fp-z]+)((?:arc)?(?:sin|cos|tan)h?|e|exp|log|pi|sqrt)\b/g,
          "$1*$2",
        )
        .replace(/\b(\d*[fp-z])([fp-z])([fp-z])\b/g, "$1*$2*$3")
        .replace(/\b(\d*[fp-z])([fp-z])\b/g, "$1*$2");

      // Calculate and show result
      try {
        // Wait a tick to "flush the print buffer" before we lock up the browser
        // for possibly several seconds of synchronous number crunching.
        // (Incidentally, locking up the browser conveniently means that we
        // don't need to temporarily disable the submit button ourselves...)
        await new Promise(resolve => window.setTimeout(resolve, 0));
        const start = Date.now();
        const result = Algebrite.eval(query)
          .toLatexString()
          .replace(/\\?log\b/g, "\\ln")
          .replace(/\\pi(?=\w)/g, "\\pi "); // Prevent garbage like `\pixy`
        const elapsed = Date.now() - start;
        console.log("Computed", query, "=", result, "in", elapsed, "ms");
        $result.innerText = "";
        $result.appendChild(MathJax.tex2svg(`= ${result}`));
      } catch (ex) {
        $result.innerText = `Error: ${ex.message}`;
      }
    };

    // Initialization
    render();
    $("#integrand input").focus();

    // Event bindings
    $$("#calc select").map($el => $el.addEventListener("change", render));
    $("#integrate").addEventListener("click", submit);
  })();
</script>
