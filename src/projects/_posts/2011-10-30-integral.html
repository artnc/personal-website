---
description: Free online calculator for definite and indefinite multiple integrals (double, triple, or quadruple) using Cartesian, polar, cylindrical, or spherical coordinates.
headjs: <script src="/js/algebrite-1.4.0.js"></script>
h1: Multiple Integral Calculator
layout: default
pagetitle: Multiple Integral Calculator
---

<div id="calc">
  <p>
    I want to calculate a
    <select id="order">
      <option value="1">single</option>
      <option value="2" selected="selected">double</option>
      <option value="3">triple</option>
      <option value="4">quadruple</option>
    </select>
    integral in
    <select id="coordSystem">
      <option data-orders="1234" value="cartesian">Cartesian</option>
      <option data-orders="2" value="polar">polar</option>
      <option data-orders="3" value="cylindrical">cylindrical</option>
      <option data-orders="3" value="spherical">spherical</option>
    </select>
    coordinates.
  </p>
  <table class="borderless">
    <tr class="upper">
      <td class="paren" rowspan="3">(</td>
      <td>&nbsp;</td>
      <td class="paren" rowspan="3">)</td>
      <td>&nbsp;</td>
    </tr>
    <tr class="center">
      <td id="integrand">Function<br /><input type="text" autofocus /></td>
      <td id="differentials">
        Differentials<br /><input
          type="text"
          style="width: 110px"
          value="dz dy dx"
        />
      </td>
    </tr>
    <tr class="lower">
      <td>&nbsp;</td>
      <td>
        <button id="integrate">Submit</button>
      </td>
    </tr>
  </table>
</div>

<script>
  (() => {
    const $ = selector => document.querySelector(selector);
    const $$ = selector => [...document.querySelectorAll(selector)];

    const render = () => {
      // Customize coordinate system dropdown
      const order = parseInt($("#order").value, 10);
      $$("#coordSystem option").map($el =>
        $el.classList.toggle("hidden", !$el.dataset.orders.includes(order)),
      );
      if ($(`#coordSystem option.hidden:checked`)) {
        $("#coordSystem").value = "cartesian";
      }
      const coordSystem = $("#coordSystem").value;

      // Render integral symbols
      $$("td.int, td.limit").map($el => $el.remove());
      const prepend = ($el, html) =>
        $el.insertAdjacentHTML("afterbegin", html.repeat(order));
      prepend($("#calc .upper"), '<td class="limit"><input type="text"></td>');
      prepend($("#calc .center"), '<td class="int">&int;</td>');
      prepend($("#calc .lower"), '<td class="limit"><input type="text"></td>');

      // Populate differentials
      $("#calc table input[type=text]").value = "";
      $("#differentials input").value = {
        cartesian: "dx dy dz dt".slice(0, 3 * order - 1),
        polar: "dr dt",
        cylindrical: "dz dr dt",
        spherical: "dr dt df",
      }[coordSystem];

      // Populate placeholder
      $("#integrand input").placeholder = {
        cartesian: `${
          ["x*y^2", "x + 3*y*z + z^2", "2*x*y + t^3"][order - 2] ?? "7*x + 3"
        } + sqrt(pi)^0`,
        polar: "(r + 2*t)*r",
        cylindrical: "r*sin(t)*r",
        spherical: "16*r*cos(f)*(r^2)*sin(f)",
      }[coordSystem];
    };

    // Open SymPy tab
    const submit = () => {
      // Validate inputs
      const integrand = $("#integrand input").value.trim();
      if (!integrand) {
        window.alert("You didn't enter a function to integrate!");
        return;
      }
      const differentials = $("#differentials input").value.replace(/ |d/g, "");
      if (!differentials) {
        window.alert("You didn't enter any differentials!");
        return;
      }
      const countBrackets = needle => [...integrand.matchAll(needle)].length;
      if (countBrackets(/\(/g) !== countBrackets(/\)/g)) {
        window.alert("Your parentheses aren't matched!");
        return;
      }
      if (countBrackets(/\[/g) !== countBrackets(/\]/g)) {
        window.alert("Your brackets aren't matched!");
        return;
      }

      // Build query string using integrand and differentials
      let query = integrand;
      for (let i = 0; i < differentials.length; ++i) {
        // Add bounds
        const variable = differentials[i];
        const n = differentials.length - i;
        const upper = $(`#calc .upper td:nth-child(${n}) input`).value.trim();
        const lower = $(`#calc .lower td:nth-child(${n}) input`).value.trim();
        if (!upper.length !== !lower.length) {
          window.alert(
            "Limits of integration for each integral must be either both empty or both filled!",
          );
          return;
        }
        query =
          upper && lower
            ? `defint(${query},${variable},${lower},${upper})`
            : `integral(${query},${variable})`;
      }
      window.alert(Algebrite.eval(query).toString());
    };

    // Initialization
    render();
    $("#integrand input").focus();

    // Event bindings
    $$("#calc select").map($el => $el.addEventListener("change", render));
    $("#integrate").addEventListener("click", submit);
  })();
</script>
